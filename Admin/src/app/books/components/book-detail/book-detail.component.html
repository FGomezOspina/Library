<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-body">
        <!-- <div class="row d-flex mt-2 mb-4">
          <div class="col-auto">
            <h4>Categories </h4>
          </div>
          <div class="col-auto" *ngFor="let item of bookDetail?.categories">
            <a
              [routerLink]="'/books'"
              [queryParams]="{
                categoryId: item?.id
              }"
              class="text-primary text-start"
              >{{ item?.title }}</a
            >
          </div>
        </div> -->

        <div class="row">
          <div class="col-xl-7">
            <div class="book-detai-imgs">
              <div class="row" *ngIf="bookDetail?.media?.length > 0">
                <ul
                  ngbNav
                  #nav="ngbNav"
                  class="col-md-2 col-sm-3 col-4"
                  orientation="vertical"
                >
                  <li
                    *ngFor="let media of bookDetail?.media; let i = index"
                    [ngbNavItem]="i"
                    class="p-2"
                  >
                    <a ngbNavLink>
                      <img
                        [src]="media?.url"
                        alt=""
                        class="img-fluid mx-auto d-block rounded"
                      />
                    </a>
                    <ng-template ngbNavContent>
                      <img
                        [src]="media?.url"
                        id="expandedImg"
                        alt=""
                        class="img-fluid mx-auto d-block rounded"
                      />
                      <div class="text-center mt-4 d-flex align-items-end justify-content-center">
                        <button
                          (click)="addToCart()"
                          type="button"
                          class="btn btn-soft-primary waves-effect waves-light mt-2 me-1"
                        >
                          <i class="bx bx-cart me-2"></i> Agregar al carrito
                        </button>

                        <div class="col-3 me-1">
                          <div
                            class="input-group bootstrap-touchspin bootstrap-touchspin-injected"
                          >
                            <span class="input-group-btn input-group-prepend">
                              <button
                                tabindex="-1"
                                class="btn btn-soft-primary bootstrap-touchspin-down"
                                (click)="decrementQuantity()"
                                type="button"
                              >
                                âˆ’
                              </button>
                            </span>
                            <input
                              data-toggle="touchspin"
                              disabled="true"
                              type="text"
                              [(ngModel)]="quantity"
                              class="form-control text-center bg-white"
                            />
                            <span class="input-group-btn input-group-append">
                              <button
                                tabindex="-1"
                                class="btn btn-soft-primary bootstrap-touchspin-up"
                                (click)="incrementQuantity()"
                                type="button"
                              >
                                +
                              </button>
                            </span>
                          </div>
                        </div>

                        <button
                          type="button"
                          class="btn btn-soft-success waves-effect waves-light mt-2 me-1"
                        >
                          <i class="bx bx-shopping-bag me-2"></i> Buy Now
                        </button>
                      </div>
                    </ng-template>
                  </li>
                </ul>
                <div
                  [ngbNavOutlet]="nav"
                  class="col-md-7 offset-md-1 col-sm-9 col-8"
                ></div>
              </div>
            </div>
          </div>

          <div class="col-xl-5">
            <div class="mt-4 mt-xl-3">
              <div class="row mt-2 mb-3">
                <div class="col-10 d-flex">
                  <div class="col-auto">
                    <p>Tags:</p>
                  </div>
                  <div
                    class="col-auto d-flex justify-content-start"
                    *ngFor="let item of bookDetail?.tags; let first = first"
                  >
                    <a
                      [routerLink]="'/books'"
                      [queryParams]="{
                        tagId: item?.id
                      }"
                      class="text-primary text-start mx-2"
                      >{{ item?.title }}</a
                    >
                  </div>
                </div>
              </div>

              <h2 class="mt-1 mb-3">{{ bookDetail?.title }}</h2>
              <h6 class="text-success text-uppercase">
                {{ bookDetail?.discount ?? 0 }} % Off
              </h6>

              <h5 *ngIf="bookDetail?.discount > 0" class="mb-4">
                Price :
                <span class="text-muted me-4"
                  ><del>${{ bookDetail?.price }} USD</del>
                </span>
                <b
                  >${{
                    (
                      bookDetail?.price -
                      bookDetail?.price * (bookDetail?.discount / 100)
                    ).toFixed(1)
                  }}
                  USD</b
                >
              </h5>
              <h5
                *ngIf="
                  bookDetail?.discount === null || bookDetail?.discount == 0
                "
                class="mb-4"
              >
                Price :
                <b>${{ bookDetail?.price }} USD</b>
              </h5>

              <p class="text-muted mb-4">{{ bookDetail?.description }}</p>
            </div>
          </div>
        </div>
        <!-- end row -->
      </div>
    </div>
  </div>

  <!-- end card -->
</div>
<!-- end row -->

<!-- end row -->
